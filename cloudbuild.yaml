steps:
  # Step 1: Build the JAR file using Gradle
  - name: 'gcr.io/cloud-builders/gradle'
    args: [ 'build' ]

  # Step 2: Build the Docker image
  - name: 'gcr.io/cloud-builders/docker'
    script: |
      docker build -t us-west2-docker.pkg.dev/cs5409kubernetes/kubernetes-docker-repo/service2:latest .

images:
  - 'us-west2-docker.pkg.dev/cs5409kubernetes/kubernetes-docker-repo/service2:latest'